#pragma once

#include "geometry.h"
#include "mouse_cursor.h"
#include "player_ship.h"
#include "level_timer.h"
#include "level_state.h"
#include "level_island.h"
#include "level_target.h"
#include "level_object_container.h"
#include "level_control_state.h"

class game_level_object_container
{
public:

  game_level_object_container();
  auto Initialize(ID2D1RenderTarget* renderTarget, IDWriteFactory* dwriteFactory) -> void;

  auto AddPlayer(float x, float y) -> void;
  auto AddTimer(int timelimitSeconds) -> void;
  auto AddStatus() -> void;
  auto AddIsland(const game_closed_object& closedObject) -> void;
  auto AddTarget(float x, float y) -> void;

  auto UpdateMouseCursor(float x, float y) -> void;
  auto UpdatePlayer(const level_control_state& controlState) -> void;

private:

  mouse_cursor m_mouseCursor;
  std::unique_ptr<player_ship> m_player;
  std::unique_ptr<level_timer> m_levelTimer;
  std::unique_ptr<level_state> m_levelState;
  level_object_container m_levelObjectContainer;
};
